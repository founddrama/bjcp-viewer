{"version":3,"sources":["ts/cyrb53-hash.ts","bjcp/bjcp-formatters.tsx","components/StyleRow.tsx","components/StyleList.tsx","components/StyleDetail.tsx","components/StyleGuideApp.tsx","index.tsx"],"names":["cyrb53","str","ch","seed","h1","h2","i","length","charCodeAt","Math","imul","formatSG","sg","toFixed","formatRange","styleStat","label","opts","range","undefined","className","formattedRanges","formatter","map","r","low","high","key","prefix","suffix","formatRangeForRow","summarizedStyleState","min","apply","max","StyleRow","this","props","style","isSelected","onClick","stats","abv","ibu","og","fg","srm","name","React","PureComponent","StyleList","getSelected","styleId","onRowClick","_id","emitSelectedStyle","renderRow","colSpan","styles","StyleDetail","renderStatTable","isMead","notes","isBeer","generateColorBands","renderStatsNotes","renderTags","tags","t","replace","join","floor","push","display","height","data-testid","backgroundColor","flexGrow","ranges","generateColorBand","element","ReactDOM","findDOMNode","scrollTop","content","split","p","trim","renderParagraphs","title","id","toLowerCase","onCloseClick","renderPreamble","preamble","renderSection","impression","aroma","appearance","flavor","mouthfeel","comments","history","ingredients","comparison","examples","entry_instructions","StyleGuideApp","memo","location","useLocation","useHistory","findStyleById","useCallback","find","setSelectedStyleById","setSelectedStyle","setSelectedStyleFromPath","pathname","initStyle","getSelectedStyleFromPath","useState","selectedStyle","locationPaths","setLocationPaths","useEffect","listen","action","keys","require","$root","document","getElementById","Boolean","process","render","basename"],"mappings":"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","file":"static/js/main.a395f037.chunk.js","sourcesContent":["// source: https://stackoverflow.com/a/52171480/623654\n\nexport default function cyrb53(str: string, seed: number = 0): number {\n  let h1 = 0xdeadbeef ^ seed;\n  let h2 = 0x41c6ce57 ^ seed;\n\n  for (let i = 0, ch; i < str.length; i++) {\n    ch = str.charCodeAt(i);\n    h1 = Math.imul(h1 ^ ch, 2654435761);\n    h2 = Math.imul(h2 ^ ch, 1597334677);\n  }\n  h1 = Math.imul(h1 ^ (h1>>>16), 2246822507) ^ Math.imul(h2 ^ (h2>>>13), 3266489909);\n  h2 = Math.imul(h2 ^ (h2>>>16), 2246822507) ^ Math.imul(h1 ^ (h1>>>13), 3266489909);\n  return 4294967296 * (2097151 & h2) + (h1>>>0);\n};\n","import React from 'react';\nimport cyrb53 from '../ts/cyrb53-hash';\nimport { FormattedStyleStateRange, StyleStat } from '../types';\n\ntype RangeValue = number | string | undefined;\n\ninterface RangeOptions {\n  prefix?: string;\n  suffix?: string;\n  formatter?: (input: RangeValue) => string | undefined;\n};\n\nexport function formatSG(sg: RangeValue): string | undefined {\n  if(!sg) return;\n  if (typeof sg === 'number') {\n    return sg.toFixed(3);\n  } else {\n    return sg;\n  }\n}\n\nexport function formatRange(styleStat: StyleStat, opts: RangeOptions = {}): JSX.Element {\n  if ((styleStat['@_flexible'] && styleStat.range?.length === 1) || styleStat.range === undefined) {\n    let label;\n    if (styleStat.range !== undefined) {\n      label = styleStat.range[0].label;\n    }\n\n    return (\n      <td>\n        {label ? <div className=\"style-range-label\">{label}</div> : <em>varies</em>}\n      </td>\n    );\n  }\n\n  const { range } = styleStat;\n  let formattedRanges: FormattedStyleStateRange[] = [...range];\n\n  if (opts.formatter) {\n    formattedRanges = range.map(r => ({\n      ...r,\n      low: opts.formatter!(r.low),\n      high: opts.formatter!(r.high),\n    }));\n  }\n\n  return (\n    <td>\n      {formattedRanges.map(range => (\n        <div key={cyrb53(`${range.low}-${range.high}`)}>\n          {opts.prefix ? opts.prefix : ''}{range.low}-{range.high}{opts.suffix ? opts.suffix : ''}\n          {range.label ? <div className=\"style-range-label\">({range.label})</div> : null}\n        </div>\n      ))}\n    </td>\n  );\n}\n\nexport function formatRangeForRow(styleStat: StyleStat, opts: RangeOptions = {}): JSX.Element {\n  if (styleStat['@_flexible'] || styleStat.range === undefined) {\n    return formatRange({ '@_flexible': true }, opts);\n  }\n\n  // get rid of any labels\n  // collapse ranges to min/max\n  let summarizedStyleState: StyleStat = {\n    ...styleStat,\n    ...(styleStat.range !== undefined && {\n      range: [{\n        low: Math.min.apply(null, styleStat.range.map(r => r.low!)),\n        high: Math.max.apply(null, styleStat.range.map(r => r.high!)),\n      }],\n    }),\n  };\n  return formatRange(summarizedStyleState, opts);\n}\n","import React from 'react';\nimport { BJCPStyle } from '../types';\nimport { formatRangeForRow, formatSG } from '../bjcp/bjcp-formatters';\nimport cyrb53 from '../ts/cyrb53-hash';\n\ntype StyleRowProps = {\n  isSelected: boolean;\n  onClick: React.MouseEventHandler<HTMLTableRowElement>;\n  style: BJCPStyle;\n};\n\nclass StyleRow extends React.PureComponent<StyleRowProps> {\n  render(): JSX.Element {\n    const { style, isSelected, onClick } = this.props;\n    const { abv, ibu, og, fg, srm } = style.stats;\n\n    return (\n      <tr key={cyrb53(style.name)} onClick={onClick} className={isSelected ? 'is-selected' : ''}>\n        <td>{style['@_id']}.</td>\n        <td>{style.name}</td>\n        {formatRangeForRow(abv, { suffix: '%' })}\n        {formatRangeForRow(ibu)}\n        {formatRangeForRow(og, { formatter: formatSG })}\n        {formatRangeForRow(fg, { formatter: formatSG })}\n        {formatRangeForRow(srm)}\n      </tr>\n    );\n  }\n}\n\nexport default StyleRow;\n","import React from 'react';\nimport StyleRow from './StyleRow';\nimport { BJCPStyle } from '../types';\n\ntype StyleListProps = {\n  emitSelectedStyle: Function;\n  styles: BJCPStyle[];\n  style?: BJCPStyle;\n};\n\nclass StyleList extends React.PureComponent<StyleListProps> {\n  getSelected = (styleId: string): boolean => styleId === this.props.style?.['@_id'];\n\n  onRowClick = (_id: string): void => {\n    this.props.emitSelectedStyle(_id);\n  };\n\n  renderRow = (style: BJCPStyle): JSX.Element => {\n    const _id = style['@_id'];\n    return (\n      <StyleRow\n        key={_id}\n        style={style}\n        isSelected={this.getSelected(_id)}\n        onClick={() => this.onRowClick(_id)}\n      />\n    );\n  }\n\n  render(): JSX.Element {\n    return (\n      <div className=\"style-list-container\">\n        <table>\n          <thead>\n            <tr>\n              <th colSpan={2}>Style</th>\n              <th>ABV</th>\n              <th>IBU</th>\n              <th>O.G.</th>\n              <th>F.G.</th>\n              <th>SRM</th>\n            </tr>\n          </thead>\n          <tbody>\n            {this.props.styles.map(this.renderRow)}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n}\n\nexport default StyleList;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { StyleStatRange, BJCPBeerTags, BJCPStyle } from '../types';\nimport { formatSG, formatRange } from '../bjcp/bjcp-formatters';\nimport cyrb53 from '../ts/cyrb53-hash';\n\ntype StyleDetailProps = {\n  style: BJCPStyle | undefined;\n  onCloseClick: React.MouseEventHandler<HTMLTableRowElement>;\n};\n\nclass StyleDetail extends React.PureComponent<StyleDetailProps> {\n  isBeer(style: BJCPStyle): boolean {\n    return style['@_type'] === 'beer';\n  }\n\n  isMead(style: BJCPStyle): boolean {\n    return style['@_type'] === 'mead';\n  }\n\n  isCider(style: BJCPStyle): boolean {\n    return style['@_type'] === 'cider';\n  }\n\n  private generateColorBand(srm: StyleStatRange): JSX.Element {\n    let range = [];\n    const low = srm.low;\n    const high = srm.high;\n\n    for (let i = Math.floor(low || 1); i < (high ? high + 1 : 40); i++) {\n      range.push(i);\n    }\n\n    const ctStyle = {\n      display: 'flex',\n      height: '1.5rem'\n    };\n\n    return (\n      <div key={cyrb53(`${low}-${high}`)} style={ctStyle} data-testid=\"srm-gradient\">\n      {\n        range.map((i) => (\n          <div key={i} style={{\n            backgroundColor: `var(--srm_${i})`,\n            flexGrow: 1,\n          }}></div>\n        ))\n      }\n      </div>\n    );\n  }\n\n  generateColorBands(srm?: StyleStatRange[]): JSX.Element {\n    let ranges: StyleStatRange[];\n    if (srm === undefined) {\n      ranges = [{ low: 1, high: 40 }];\n    } else {\n      ranges = [...srm];\n    }\n    \n    return <>{ranges.map(this.generateColorBand)}</>;\n  }\n\n  componentDidUpdate (): void {\n    const element = ReactDOM.findDOMNode(this);\n    if (element != null) {\n      (element as HTMLElement).scrollTop = 0;\n    }\n  }\n\n  private renderParagraphs(content: string): JSX.Element {\n    return (\n      <>\n        {content.split('\\n').map(p => (\n          <p key={cyrb53(p, p.length)}>{p.trim()}</p>\n        ))}\n      </>\n    );\n  }\n\n  renderPreamble(content: string | undefined): JSX.Element | undefined {\n    if(!content) return;\n\n    return (\n      <div className=\"preamble\" data-testid=\"style-preamble\">\n        {this.renderParagraphs(content)}\n      </div>\n    );\n  }\n\n  renderSection(content: string | undefined, title: string): JSX.Element | undefined {\n    if(!content) return;\n\n    return (\n      <div>\n        <h3 id={title.toLowerCase().replace(/\\s/g, '-')}>{title}</h3>\n        {this.renderParagraphs(content)}\n      </div>\n    );\n  }\n\n  renderStatsNotes(notes: string | undefined): JSX.Element | undefined {\n    if(!notes) return;\n\n    return (\n      <div className=\"stats-notes\" data-testid=\"style-stats-notes\">\n        {this.renderParagraphs(notes)}\n      </div>\n    );\n  }\n\n  renderStatTable = (style: BJCPStyle): JSX.Element | null => {\n    if (this.isMead(style)) {\n      return null;\n    }\n\n    const { abv, ibu, og, fg, srm, notes } = style.stats;\n\n    return (\n      <>\n        <table>\n          <thead>\n            <tr>\n              <th>ABV</th>\n              {this.isBeer(style) ? <th>IBU</th> : null}\n              <th>O.G.</th>\n              <th>F.G.</th>\n              {this.isBeer(style) ? <th>SRM</th> : null}\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              {formatRange(abv, { suffix: '%' })}\n              {this.isBeer(style) ? formatRange(ibu) : null}\n              {formatRange(og, { formatter: formatSG })}\n              {formatRange(fg, { formatter: formatSG })}\n              {this.isBeer(style) ? formatRange(srm) : null}\n            </tr>\n            { this.isBeer(style) ?\n              <tr>\n                <td colSpan={5} className=\"srm-gradient\">\n                  {this.generateColorBands(srm.range)}\n                </td>\n              </tr>\n            : null }\n          </tbody>\n        </table>\n        {this.renderStatsNotes(notes)}\n      </>\n    );\n  }\n\n  renderTags = (tags: BJCPBeerTags[] | undefined) => tags?.map((t) => `#${t.replace('-', '\\u2011')}`).join(' ');\n\n  render(): JSX.Element | null {\n    const { style, onCloseClick } = this.props;\n    if(!style) return null;\n\n    return (\n      <article>\n        <span className=\"close-icon\" onClick={onCloseClick}>&times;</span>\n        <h2>{style['@_id']}. {style.name}</h2>\n        {this.renderStatTable(style)}\n        {this.renderPreamble(style.preamble)}\n        {this.renderSection(style.impression, 'Overall Impression')}\n        {this.renderSection(style.aroma, 'Aroma')}\n        {this.renderSection(style.appearance, 'Appearance')}\n        {this.renderSection(style.flavor, 'Flavor')}\n        {this.renderSection(style.mouthfeel, 'Mouthfeel')}\n        {this.renderSection(style.comments, 'Comments')}\n        {this.renderSection(style.history, 'History')}\n        {this.renderSection(style.ingredients, 'Ingredients')}\n        {this.renderSection(style.comparison, 'Comparison')}\n        {this.renderSection(style.examples, 'Examples')}\n        {this.renderSection(style.entry_instructions, 'Entry Instructions')}\n        {this.renderSection(this.renderTags(style.tags), 'Tags')}\n      </article>\n    );\n  }\n}\n\nexport default StyleDetail;\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport StyleList from './StyleList';\nimport StyleDetail from './StyleDetail';\nimport { BJCPStyle } from '../types';\n\ntype StyleGuideProps = {\n  styles: BJCPStyle[];\n};\n\nconst StyleGuideApp = React.memo(function StyleGuideApp(props: StyleGuideProps) {\n  const location = useLocation();\n  const history = useHistory();\n\n  const findStyleById = useCallback((styleId: string): BJCPStyle | undefined => (\n    props.styles.find((style) => style['@_id'] === styleId)\n  ), [props]);\n\n  const setSelectedStyleById = useCallback((styleId: string): void => {\n    setSelectedStyle(findStyleById(styleId));\n  }, [findStyleById]);\n\n  const getSelectedStyleFromPath = (pathname: string): BJCPStyle | undefined => {\n    const styleId = pathname.replace(/^\\//, '');\n    return findStyleById(styleId);\n  };\n\n  const setSelectedStyleFromPath = useCallback((pathname: string): void => {\n    const styleId = pathname.replace(/^\\//, '');\n    setSelectedStyleById(styleId);\n  }, [setSelectedStyleById]);\n\n  const { pathname } = location;\n  const initStyle = getSelectedStyleFromPath(pathname);\n\n  const [ selectedStyle, setSelectedStyle ] = useState<BJCPStyle | undefined>(initStyle);\n  const [ locationPaths, setLocationPaths ] = useState<(string | undefined)[]>([]);\n\n  const handleStyleChange = (styleId: string): void => {\n    setSelectedStyleById(styleId);\n    history.push(`/${styleId}`);\n  };\n\n  const onCloseClick = (): void => {\n    setSelectedStyle(undefined);\n    history.push(`/`);\n  };\n\n  useEffect(() => {\n    return history.listen((location) => {\n      if (history.action === 'PUSH') {\n        setLocationPaths([location.pathname]);\n      }\n  \n      if (history.action === 'POP') {\n        if (locationPaths[1] === location.pathname) {\n          setLocationPaths(([_, ...keys ]) => keys);\n        } else {\n          setLocationPaths((keys) => [location.pathname, ...keys]);\n        }\n        setSelectedStyleFromPath(location.pathname);\n      }\n    });\n  }, [history, locationPaths, setSelectedStyleFromPath]);\n\n  return (\n    <main>\n      <h1>2021 BJCP Style Guide</h1>\n      <StyleList styles={props.styles} style={selectedStyle} emitSelectedStyle={handleStyleChange} />\n      <StyleDetail style={selectedStyle} onCloseClick={onCloseClick} />\n    </main>\n  );\n});\n\nexport default StyleGuideApp;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter, HashRouter } from 'react-router-dom';\nimport StyleGuideApp from './components/StyleGuideApp';\nimport './css/bjcp.css';\n\nconst styles = require('./bjcp/bjcp-styleguide-flattened.json');\nconst $root = document.getElementById('root');\n\nif (Boolean(process.env.REACT_APP_USE_HASH_ROUTER)) {\n  ReactDOM.render(\n    <HashRouter>\n      <StyleGuideApp styles={styles} />\n    </HashRouter>,\n    $root\n  );\n} else {\n  ReactDOM.render(\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <StyleGuideApp styles={styles} />\n    </BrowserRouter>,\n    $root\n  );\n}\n"],"sourceRoot":""}